"use strict";(self.webpackChunklionheart_coding_style_guide=self.webpackChunklionheart_coding_style_guide||[]).push([["21"],{1982:function(e,n,a){a.r(n),a.d(n,{default:()=>u,frontMatter:()=>s,metadata:()=>t,assets:()=>d,toc:()=>c,contentTitle:()=>o});var t=JSON.parse('{"id":"fegg/library/database/configuration","title":"Configuration","description":"Database connect setting","source":"@site/docs/fegg/library/database/configuration.mdx","sourceDirName":"fegg/library/database","slug":"/fegg/library/database/configuration","permalink":"/coding-style-guide/ja/docs/fegg/library/database/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/lionheart-group/coding-style-guide/edit/master/docs/fegg/library/database/configuration.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"fegg","previous":{"title":"Introduction","permalink":"/coding-style-guide/ja/docs/fegg/library/database/"},"next":{"title":"DB_pdo::select","permalink":"/coding-style-guide/ja/docs/fegg/library/database/methods/select"}}'),r=a("5893"),i=a("65");let s={sidebar_position:2},o="Configuration",d={},c=[{value:"Database connect setting",id:"database-connect-setting",level:3},{value:"Automatic append query configuration",id:"automatic-append-query-configuration",level:3}];function l(e){let n={code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,r.jsx)(n.h3,{id:"database-connect-setting",children:"Database connect setting"}),"\n",(0,r.jsxs)(n.p,{children:["You can change connect configuration on ",(0,r.jsx)(n.strong,{children:"code/config/database_config.php"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="database_config.php"',children:"<?php\n/**\n * \u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u63A5\u7D9A\u5148\u8A2D\u5B9A\n * Database connect information\n * @see Database.php\n */\n// \u672C\u756A\u74B0\u5883\n// Production environment\nif (false) {\n\n    // Database(Master)\u8A2D\u5B9A\uFF08\uFF11\u53F0\u3092\u60F3\u5B9A\uFF09\n    // Database for Master\n    $database_config['master'] = array(\n        'dsn' => 'sqlite:'.FEGG_CODE_DIR.'/data/db/db.db',\n        'username' => '',\n        'password' => ''\n    );\n\n    // Database(Slave)\u8A2D\u5B9A\uFF08\u8907\u6570\u53F0\u3092\u60F3\u5B9A\uFF09\n    // Database for Slave\n    $database_config['slave'][] = array(\n        'dsn' => 'sqlite:'.FEGG_CODE_DIR.'/data/db/db.db',\n        'username' => '',\n        'password' => ''\n    );\n\n// \u958B\u767A\u74B0\u5883\n// Development Environment\n} else {\n\n    // Database(Master)\u8A2D\u5B9A\uFF08\uFF11\u53F0\u3092\u60F3\u5B9A\uFF09\n    // Database for Master\n    $database_config['master'] = array(\n        'dsn' => 'sqlite:'.FEGG_CODE_DIR.'/data/db/db.db',\n        'username' => '',\n        'password' => ''\n    );\n\n    // Database(Slave)\u8A2D\u5B9A\uFF08\u8907\u6570\u53F0\u3092\u60F3\u5B9A\uFF09\n    // Database for Slave\n    $database_config['slave'][] = array(\n        'dsn' => 'sqlite:'.FEGG_CODE_DIR.'/data/db/db.db',\n        'username' => '',\n        'password' => ''\n    );\n\n}\n/* End of file database_config.php */\n"})}),"\n",(0,r.jsx)(n.h3,{id:"automatic-append-query-configuration",children:"Automatic append query configuration"}),"\n",(0,r.jsxs)(n.p,{children:["You can arrange automatic append query configuration on ",(0,r.jsx)(n.strong,{children:"code/config/database_regular_use_query.php"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="database_regular_use_query.php"',children:"<?php\n/**\n * \u81EA\u52D5\u7684\u4ED8\u52A0\u30AF\u30A8\u30EA\u30FC\n * Automatic append query\n * @see Database.php\n *\n * DB\u30AF\u30E9\u30B9\u306Eselect, insert, update, delete\u30E1\u30BD\u30C3\u30C9\u5B9F\u884C\u6642\u306B\u81EA\u52D5\u7684\u4ED8\u52A0\u3059\u308B\u30AF\u30A8\u30EA\u30FC\n * \uFF08\u5FC5\u8981\u306B\u5FDC\u3058\u3066\u62E1\u5F35\u3057\u3066\u3044\u304F\u4E88\u5B9A\uFF09\n *\n * Automaticaly append query that \"select\", \"insert\", \"update\", \"delete\" method in DB Class.\n */\n$database_regular_use_query = array(\n    // \u30C6\u30FC\u30D6\u30EB\u306B\u95A2\u308F\u3089\u305A\u4ED8\u52A0\u3055\u308C\u308B\u30AF\u30A8\u30EA\u30FC\n    // Appended query regardless of table\n    'regular_use' => array(\n        'select' => array(\n            'where' => 'CURRENT_TABLE.valid = 1',\n            'order' => '',\n        ),\n        'count' => array(\n            'where' => 'CURRENT_TABLE.valid = 1',\n            'order' => '',\n        ),\n        'insert' => array(\n            'item' => 'modified = now(), created = now(), valid = 1',\n        ),\n        'update' => array(\n            'item' => \"modified = now()\",\n            'where' => '',\n        ),\n    ),\n\n    /*\n    // \u30C6\u30FC\u30D6\u30EB\u306B\u5FDC\u3058\u3066\u4ED8\u52A0\u3055\u308C\u308B\u30AF\u30A8\u30EA\u30FC\n    // Appended query depending on table\n    'table' => array(\n        'table_name' => array(\n            'select' => array(\n                'where' => 'show_flag = 0',\n                'order' => '',\n            ),\n            'insert' => array(\n                'item' => 'update_time = now(), create_datetime = now()',\n            ),\n            'update' => array(\n                'item' => 'update_time = now()',\n                'where' => '',\n            ),\n        ),\n    ),\n    */\n);\n/* End of file database_regular_use_query.php */\n"})})]})}function u(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},65:function(e,n,a){a.d(n,{Z:function(){return o},a:function(){return s}});var t=a(7294);let r={},i=t.createContext(r);function s(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);